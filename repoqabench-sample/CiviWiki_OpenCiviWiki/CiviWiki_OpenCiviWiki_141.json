{
  "repo_name": "CiviWiki_OpenCiviWiki",
  "issue_id": "141",
  "issue_description": "# Add ID to 'civi links' field\n\nOur automated testing is trying to access the 'civi links' field to make sure it works properly. However, this is made slightly brittle by the fact that the button does not have an ID.\r\n\r\n# Task\r\n- [ ] 'Civi links' field has meaningful (unique) ID",
  "issue_comments": [
    {
      "id": 406841378,
      "user": "btsullivan",
      "body": "Is this still open? I would like to take it if so. "
    },
    {
      "id": 426003260,
      "user": "HarendraSingh22",
      "body": "Is this still up for grab?"
    },
    {
      "id": 426088770,
      "user": "JOO33",
      "body": "@HarendraSingh22 Yep! Feel free to pick this one up."
    },
    {
      "id": 426296889,
      "user": "HarendraSingh22",
      "body": "On what page is this button ? I have not yet found it"
    },
    {
      "id": 426551779,
      "user": "brylie",
      "body": "ping: @jl24 "
    },
    {
      "id": 426880423,
      "user": "JOO33",
      "body": "@HarendraSingh22  The first paragraph in this [previous comment](https://github.com/CiviWiki/OpenCiviWiki/pull/202#issuecomment-397153427) i made explains how to add the ids. After that change, make sure to add the change in the `selectors.py` under `project/test_framework/app/selectors.py` as well.\r\n"
    },
    {
      "id": 498893197,
      "user": "WillowP",
      "body": "Hi There,\r\n\r\nI'd like to give this one a go. First contribution!\r\n\r\n:)"
    },
    {
      "id": 498989745,
      "user": "brylie",
      "body": "@wjkpowell welcome! OK, please read through the discussion carefully, as @jl24 has described where/how to add the missing IDs. Open a pull request with your changes, and I will review it. Please let me know in this thread, if you have any difficulties :-)"
    },
    {
      "id": 500224129,
      "user": "WillowP",
      "body": "Hi @brylie  Thanks! I've been trying to get my dev environment set up to action this, but having some trouble. I reached out on the Matrix Channel mentioned on the website, thought that would be better than adding as a comment on this issue. Hoping to deliver this this week!"
    },
    {
      "id": 500224364,
      "user": "brylie",
      "body": "@wjkpowell go ahead and open an issue describing the error, with steps to reproduce:\r\n\r\nhttps://github.com/CiviWiki/OpenCiviWiki/issues/new"
    },
    {
      "id": 505946717,
      "user": "metonymic-smokey",
      "body": "Looking to make my first contribution. Is this issue still open? If so, I'd like to give this a shot!"
    },
    {
      "id": 505981836,
      "user": "brylie",
      "body": "@metonymic-smokey this issue is still open. Other developers have had a bit of trouble with the development environment set-up. Are you able to get started with the dev environment?"
    },
    {
      "id": 507187615,
      "user": "brylie",
      "body": "Issue was resolved by @CaioSR. Thanks to all who showed interest!\r\n\r\nIf you are still looking for a low-hanging-frouit, check out the following issue list:\r\n\r\nhttps://github.com/CiviWiki/OpenCiviWiki/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22"
    }
  ],
  "text_context": "# Add ID to 'civi links' field\n\nOur automated testing is trying to access the 'civi links' field to make sure it works properly. However, this is made slightly brittle by the fact that the button does not have an ID.\r\n\r\n# Task\r\n- [ ] 'Civi links' field has meaningful (unique) ID\n\nIs this still open? I would like to take it if so. \n\nIs this still up for grab?\n\n@HarendraSingh22 Yep! Feel free to pick this one up.\n\nOn what page is this button ? I have not yet found it\n\nping: @jl24 \n\n@HarendraSingh22  The first paragraph in this [previous comment](https://github.com/CiviWiki/OpenCiviWiki/pull/202#issuecomment-397153427) i made explains how to add the ids. After that change, make sure to add the change in the `selectors.py` under `project/test_framework/app/selectors.py` as well.\r\n\n\nHi There,\r\n\r\nI'd like to give this one a go. First contribution!\r\n\r\n:)\n\n@wjkpowell welcome! OK, please read through the discussion carefully, as @jl24 has described where/how to add the missing IDs. Open a pull request with your changes, and I will review it. Please let me know in this thread, if you have any difficulties :-)\n\nHi @brylie  Thanks! I've been trying to get my dev environment set up to action this, but having some trouble. I reached out on the Matrix Channel mentioned on the website, thought that would be better than adding as a comment on this issue. Hoping to deliver this this week!\n\n@wjkpowell go ahead and open an issue describing the error, with steps to reproduce:\r\n\r\nhttps://github.com/CiviWiki/OpenCiviWiki/issues/new\n\nLooking to make my first contribution. Is this issue still open? If so, I'd like to give this a shot!\n\n@metonymic-smokey this issue is still open. Other developers have had a bit of trouble with the development environment set-up. Are you able to get started with the dev environment?\n\nIssue was resolved by @CaioSR. Thanks to all who showed interest!\r\n\r\nIf you are still looking for a low-hanging-frouit, check out the following issue list:\r\n\r\nhttps://github.com/CiviWiki/OpenCiviWiki/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22",
  "pr_link": "https://github.com/CiviWiki/OpenCiviWiki/pull/202",
  "code_context": [
    {
      "filename": "project/test_framework/app/selectors.py",
      "content": "civi_wiki_url = \"http://civiwiki-test.herokuapp.com/\"\nusername = \"unit1test\"\npassword = \"unit1test\"\npassword_wrong = \"unit123test\"\n\n# Accessibility\nlogin_signup_button = \".login-btn\"\nusername_field = \"#username\"\npassword_field = \"#password\"\nlogin_button = \".login-button\"\nuser_label = \".label-username\"\ncivi_wiki_logo = \".wordmark\"\nnav_menu = \".nav-menu\"\nlogout_button = \"a.dropdown-item:nth-child(5)\"\nsettings_button = \"a.dropdown-item:nth-child(4)\"\nmy_profile_button = \"a.dropdown-item:nth-child(2)\"\nmy_feed_button = \"a.dropdown-item:nth-child(1)\"\n\n# Settings\nemail_field = \"#email\"\nfirst_name_field = \"#first_name\"\nlast_name_field = \"#last_name\"\nlocation_field = \".location-info\"\nlocation_set = \"#autocomplete\"\nactivity = \".profile-civi-list\"\nedit_profile_butoon = \"a.btn\"\nabout_me_field = \"#about_me\"\nmy_feed_list = \"#feed-list\"\nmanage_categories = \"button.waves-cw-blue:nth-child(1)\"\nchoose_button = \"button.modal-action:nth-child(1)\"\ntrending_issues = \".list-title\"\n\n# Threads\nadd_civi_button = \".add-civi\"\nadd_problem_button = \"#add-problem\"\nadd_cause_button = \"#add-cause\"\nadd_solution_button = \"#add-solution\"\ncivi_title_field = \"#civi-title\"\ncivi_description_field = \"#civi-body\"\ncivi_links_field = \".ms-sel-ctn > input:nth-child(1)\"\ncreate_civi_button = \".create-new-civi\"\nfirst_civi = \".civi-title > span:nth-child(1)\"\ncreate_thread_button = \".new-thread\"\nthread_title = \"#thread-title\"\nthread_summary = \"#thread-body\"\nthread_type_dropdown = \"#thread-location\"\nthread_category_dropdown = \"#thread-category-dropdown\"\nthread_create_draft = \".draft-new-thread\"\nthread_publish = \"#js-publish-btn\"\nadd_response_button = \"#add-new-response\"\nresponse_title = \"#response-title\"\nresponse_body = \"#response-body\"\nresponse_confirm = \".create-new-response\"\n"
    },
    {
      "filename": "project/webapp/templates/partials/feed/new_thread.html",
      "content": "{% verbatim %}\n<div class=\"modal new-thread-modal\">\n    <div class=\"modal-content\">\n        <div class=\"new-thread-contention new-thread-container\">\n            <div class=\"input-field white-background-input-field left-input-field\">\n                <input id=\"thread-title\" type=\"text\" length=\"120\">\n                <label for=\"thread-title\">Title</label>\n            </div>\n        </div>\n        <div class=\"new-thread-body white-background-input-field new-thread-container\">\n            <div class=\"input-field left-input-field\">\n                <textarea id=\"thread-body\" type=\"text\" class=\"materialize-textarea\" length=\"4000\"></textarea>\n                <label for=\"thread-body\">Summary</label>\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"new-thread-level-selection white-background-input-field col s4\">\n                <div class=\"input-field left-input-field\">\n                    <select id=\"thread-location\">\n                        <option value=\"\" disabled selected>Choose a Location</option>\n                        <option value=\"federal\">Federal</option>\n                        <option value=\"state\">State</option>\n                    </select>\n                </div>\n            </div>\n            <div class=\"new-thread-state-selection white-background-input-field col s4 hide\">\n                <div class=\"input-field left-input-field\">\n                    <select id=\"thread-state\">\n                        {{# _.each(this.options.states, function (s) { }}\n                            <option value=\"{{s[0]}}\">{{s[1]}}</option>\n                        {{# }); }}\n                    </select>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"new-thread-category-selection white-background-input-field\" id=\"new-thread-category-selection\">\n            <div class=\"input-field left-input-field\">\n                <select id=\"thread-category\">\n                    <option value=\"\" id=\"thread-category-dropdown\" disabled selected>Choose your category</option>\n                    {{# _.each(this.options.categories, function (c) { }}\n                        <option value=\"{{c.id}}\">{{c.name}}</option>\n                    {{# }); }}\n                </select>\n            </div>\n        </div>\n        <div class=\"white-background-input-field\">\n\n            <div class=\"image-upload-method\">\n                <div class=\"header-lato\">Upload Image:</div>\n                <button class=\"waves-effect waves-light btn\" id=\"image-from-computer\"><i class=\"material-icons left\">file_upload</i>COMPUTER</button>\n                <button class=\"waves-effect waves-light btn\" id=\"image-from-link\"><i class=\"material-icons left\">insert_link</i>LINK</button>\n            </div>\n            <form method=\"post\" enctype=\"multipart/form-data\" id=\"attachment_image_form\" class=\"hide\">\n                <div class=\"file-field input-field\">\n                    <input class=\"upload-image btn waves-effect hide\" type=\"submit\" value=\"Upload\"/>\n                    <div class=\"btn attachment-image-pick dark-blue-background\">\n                        <span>Add an Image</span>\n                        <input id=\"id_attachment_image\" name=\"attachment_image\" type=\"file\" accept=\"image/*\">\n                    </div>\n                  <div class=\"file-path-wrapper\">\n                    <input class=\"file-path validate\" type=\"text\">\n                  </div>\n                </div>\n                <div class=\"file-preview\"></div>\n            </form>\n            <input id=\"link-image-form\" type=\"text\" class=\"hide\" placeholder=\"Paste your image link here...\"/>\n        </div>\n    </div>\n\n    <div class=\"modal-footer\">\n        <button class=\"draft-new-thread waves-effect btn\" id = \"thread-create-draft\">Draft</button>\n        <!-- <button class=\"create-new-thread waves-effect btn\">Publish</button> -->\n        <button class=\"cancel-new-thread waves-effect btn-flat\">Cancel</button>\n    </div>\n</div>\n{% endverbatim %}\n"
    },
    {
      "filename": "project/webapp/templates/partials/thread/new_civi.html",
      "content": "\n<div class=\"new-civi-card\">\n    <div class=\"row civi-header\">\n        <div class=\"link-lato center\">ADD A NEW CIVI</div>\n        <div class=\"col s12 no-pads civi-title-outer\">\n            <div class=\"civi-title\">\n                <div class=\"dark-background-input-field edit-wrapper edit-type\">\n                    <div class=\"header-lato new-civi-header\">Choose One:</div>\n                    <div class=\"civi-types\">\n                        <button class=\"btn btn-small waves-effect civi-type-button\" value=\"problem\" id=\"add-problem\">PROBLEM</button>\n                        <button class=\"btn btn-small waves-effect civi-type-button\" value=\"cause\" id=\"add-cause\">CAUSE</button>\n                        <button class=\"btn btn-small waves-effect civi-type-button\" value=\"solution\" id=\"add-solution\">SOLUTION</button>\n                    </div>\n                    <div class=\"input-field white-background-input-field left-input-field\">\n                        <input id=\"civi-title\" type=\"text\" length=\"120\">\n                        <label for=\"civi-title\">What is the argument you want to make?</label>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"civi-body\">\n        <div class=\"civi-body-inner\">\n            <div class=\"new-civi-body white-background-input-field new-civi-container\">\n                <div class=\"input-field left-input-field\">\n                    <textarea id=\"civi-body\" type=\"text\" class=\"materialize-textarea\" length=\"1000\"></textarea>\n                    <label for=\"civi-body\">Expand on your argument with facts and details</label>\n                </div>\n            </div>\n        </div>\n        <div class=\"edit-wrapper\">\n            <div class=\"header-lato edit-links\">Links:</div>\n                <div id=\"magicsuggest\"></div>\n            <div class=\"white-background-input-field \">\n                <div class=\"header-lato\">Upload Images:</div>\n                <form method=\"post\" enctype=\"multipart/form-data\" id=\"attachment_image_form\">\n                    <div class=\"file-field input-field\">\n                        <input class=\"upload-image btn waves-effect hide\" type=\"submit\" value=\"Upload\"/>\n                        <div class=\"btn attachment-image-pick dark-blue-background\">\n                            <span>Add Images</span>\n                            <input id=\"id_attachment_image\" name=\"attachment_image\" type=\"file\" multiple accept=\"image/*\">\n                        </div>\n                      <div class=\"file-path-wrapper\">\n                        <input class=\"file-path validate\" type=\"text\">\n                      </div>\n                    </div>\n\n                </form>\n                <div class=\"image-link-list\">\n                    <input type=\"text\" class=\"civi-link-images\" placeholder=\"Paste your image link here...\"/>\n                </div>\n                <button class=\"waves-effect waves-teal btn-flat\" id=\"add-image-link-input\">+ Add Another Image Link</button>\n                <div class=\"file-preview\"></div>\n            </div>\n        </div>\n    </div>\n    <div class=\"civi-footer\">\n        <button class=\"create-new-civi waves-effect btn\" id=\"create-civi\">Add Civi</button>\n        <button class=\"cancel-new-civi waves-effect btn\">Cancel</button>\n    </div>\n</div>\n"
    },
    {
      "filename": "project/webapp/templates/partials/thread/new_response.html",
      "content": "{% verbatim %}\n<div class=\"new-civi-card\">\n    <div class=\"row civi-header\">\n        <div class=\"col s12 no-pads civi-title-outer\">\n            <div class=\"civi-title\">\n                <div class=\"new-civi-contention new-civi-container\">\n                    <div class=\"input-field white-background-input-field left-input-field\">\n                        <input id=\"response-title\" type=\"text\" length=\"120\">\n                        <label for=\"response-title\">What is the argument you want to make?</label>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"civi-body\">\n        <div class=\"new-civi-body white-background-input-field new-civi-container\">\n            <div class=\"input-field left-input-field\">\n                <textarea id=\"response-body\" type=\"text\" class=\"materialize-textarea\" length=\"4000\"></textarea>\n                <label for=\"response-body\">Expand on your argument with facts and details</label>\n            </div>\n        </div>\n        <div class=\"white-background-input-field \">\n            <div class=\"header-lato\">Upload Images:</div>\n            <form method=\"post\" enctype=\"multipart/form-data\" id=\"response_attachment_image_form\">\n                <div class=\"file-field input-field\">\n                    <input class=\"upload-image btn waves-effect hide\" type=\"submit\" value=\"Upload\"/>\n                    <div class=\"btn attachment-image-pick dark-blue-background\">\n                        <span>Add Images</span>\n                        <input id=\"response_attachment_image\" name=\"attachment_image\" type=\"file\" multiple accept=\"image/*\">\n                    </div>\n                  <div class=\"file-path-wrapper\">\n                    <input class=\"file-path validate\" type=\"text\">\n                  </div>\n                </div>\n            </form>\n            <div class=\"image-link-list\">\n                <input type=\"text\" class=\"civi-link-images\" placeholder=\"Paste your image link here...\"/>\n            </div>\n            <button class=\"waves-effect waves-teal btn-flat\" id=\"add-image-link-input\">+ Add Another Image Link</button>\n\n            <div class=\"file-preview\"></div>\n        </div>\n    </div>\n    <div class=\"civi-footer\">\n        <button class=\"waves-effect waves-light btn create-new-response\" id=\"confirm-response\">add response</button>\n        <button class=\"waves-effect waves-cw-blue btn-flat cancel-new-response\">Cancel</button>\n    </div>\n</div>\n{% endverbatim %}\n"
    },
    {
      "filename": "project/webapp/templates/partials/thread/thread_body.html",
      "content": "{% verbatim %}\n<div class=\"thread-body\">\n    <nav class=\"thread-nav body-banner\">\n        <div class=\"nav-wrapper\">\n            <div class=\"nav-categories nav-item\">\n                <div id=\"thread-meta\">\n                    <div class=\"meta-item\">\n                        <span class=\"location\"></span>\n                    </div>\n                    <div class=\"meta-item\">\n                        <span class=\"thread-location\">({{this.model.get('location')}})</span>\n                    </div>\n                    <div class=\"meta-item\">\n                        <span class=\"body-category\">{{this.model.get('category').name}}</span>\n                    </div>\n\n                    <div class=\"meta-item\">\n                        <i class=\"mini material-icons\">keyboard_arrow_right</i>\n                    </div>\n                    <div class=\"meta-item title-item\">\n                        <span class=\"thread-title\">{{this.model.get('title')}}</span>\n                        <i class=\"tiny material-icons background-info-link enter-wiki\">assignment</i>\n                    </div>\n                    {{# if (is_draft) { }}\n                    <div class=\"meta-item\">\n                        <div class=\"add-button\">\n                            <button class=\"publish-thread btn waves-effect dark-blue-background\" id=\"js-publish-btn\">\n                                <span class=\"text\">Publish Thread</span>\n                            </button>\n                        </div>\n                    </div>\n                    {{# } }}\n                    <div class=\"add-button\">\n                        <button class=\"add-civi btn waves-effect right\" id=\"add-civi\">\n                            <i class=\"material-icons left\">note_add</i>\n                            <span class=\"text\">Add Civi</span>\n                        </button>\n                    </div>\n                    <div class=\"add-button\" style=\"margin-left: 4px\">\n                        <a id=\"csv-export\" href=\"{{this.model.get('thread_id')}}/csv\" class=\"btn waves-effect\">\n                            <span class=\"text\">Export</span>\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </nav>\n    <div class=\"col nav-column civi-outline\">\n        <div class=\"issue-outline\">\n            <div class=\"issue-outline-header gray-text bold-text\">\n                <span class=\"issue-outline-title\">ISSUE OUTLINE</span>\n                <span class=\"civi-total\">({{this.model.get('num_civis')}})</span>\n                <i class=\"expand-nav material-icons right expanded\">keyboard_arrow_down</i>\n            </div>\n            <div class=\"civi-outline\" id=\"civi-outline\"></div>\n        </div>\n    </div>\n\n    <div class=\"row\">\n        <div class=\"col main-thread scroll-col\" id=\"main-thread\">\n            <div id=\"thread-problems\"></div>\n            <div id=\"thread-causes\"></div>\n            <div id=\"thread-solutions\"></div>\n            <div class=\"civi-padding\"></div>\n        </div>\n        <div class=\"col responses scroll-col\">\n            <div id=\"new-civi-box\"></div>\n            <div class=\"responses-box\"></div>\n            <div class=\"responses-padding scroll-padding\"></div>\n        </div>\n    </div>\n\n    <div id=\"civi-image-modal\" class=\"modal\">\n        <div class=\"modal-content center\">\n            <img id=\"civi-image-big\" src=\"/static/img/no_image_md.png\" />\n        </div>\n    </div>\n</div>\n{% endverbatim %}\n"
    }
  ],
  "questions": [],
  "golden_answers": [],
  "questions_generated": [
    "What is the purpose of adding a unique ID to the 'civi links' field in the CiviWiki repository?",
    "Where in the codebase should the new ID for the 'civi links' field be registered after being added to the HTML?",
    "What is the role of the 'selectors.py' file in the context of this repository, and why is it important for the automated testing process?",
    "How does the lack of a unique ID for the 'civi links' field affect the automated testing scripts?",
    "What are the steps a developer needs to follow to successfully implement and test the addition of a unique ID to the 'civi links' field?"
  ],
  "golden_answers_generated": [
    "The unique ID is added to the 'civi links' field to facilitate automated testing. Without a unique ID, accessing the field programmatically during testing is brittle and unreliable. An ID allows for precise and consistent targeting of the field in test scripts.",
    "After adding the ID to the HTML, the change needs to be reflected in the 'selectors.py' file located at 'project/test_framework/app/selectors.py'. This file contains selectors used in the test framework to interact with various elements on web pages.",
    "The 'selectors.py' file acts as a centralized repository for CSS selectors and element identifiers used in automated tests. It allows testers to interact with web elements systematically and ensures that any changes to element identifiers are managed in one location, which is crucial for maintaining test reliability and ease of updates.",
    "Without a unique ID, automated testing scripts might rely on less stable methods to locate the 'civi links' field, such as using complex CSS selectors or XPath expressions. This can make the scripts brittle, as changes to the HTML structure or class names might break the tests, requiring frequent maintenance.",
    "First, the developer should add a meaningful and unique ID to the 'civi links' field in the HTML code. Next, update the 'selectors.py' file to include the new ID for the field. After these changes, the developer should run the automated test suite to ensure the tests correctly interact with the field using the new ID and that all tests pass without errors."
  ]
}