{
  "repo_name": "oppia_oppia",
  "issue_id": "17161",
  "issue_description": "# [BUG]: Certain ARIA roles must contain particular children\n\n### Describe the bug\n\nEnsures elements with an ARIA role that require child roles contain them\r\n\r\n\n\n### Steps To Reproduce\n\nLogin to [www.oppiatestserver.org](http://www.oppiatestserver.org/)\r\nGo to Contributor dashboard\r\nIn Review Questions tab, select any question and click on Review button\r\nRun axe devtools\r\nSee errors\n\n### Expected Behavior\n\nTo solve this problem, you need to\r\nFix at least (1) of the following:\r\nRequired ARIA child role not present: tab\r\nElement has no aria-busy=\"true\" attribute\n\n### Screenshots/Videos\n\n![Screenshot 2023-01-27 11 20 15 AM](https://user-images.githubusercontent.com/101634267/215018639-983f70e2-6f9d-4d3a-bf24-59c8f17a7af8.png)\r\n![Screenshot 2023-01-27 11 19 50 AM](https://user-images.githubusercontent.com/101634267/215018652-2ede9b75-ac38-4bcf-9fa2-f7b8bc21278e.png)\r\n\n\n### What device are you using?\n\nDesktop\n\n### Operating System\n\nOther\n\n### What browsers are you seeing the problem on?\n\nChrome\n\n### Browser version\n\n108.0.5359.111\n\n### Additional context\n\n_No response_",
  "issue_comments": [
    {
      "id": 1433506770,
      "user": "sagangwee",
      "body": "### For new contributors\n\n- See the [Contributor dashboard wiki page](https://github.com/oppia/oppia/wiki/Contributor-dashboard) for how to get started developing for the contributor dashboard.\n- See the [Testing for Accessibility wiki page](https://github.com/oppia/oppia/wiki/Testing-for-Accessibility) for accessibility testing guidelines. To fix this issue, you will likely need to manipulate the HTML or CSS."
    },
    {
      "id": 1433539769,
      "user": "github-actions[bot]",
      "body": "Hi @sagangwee, thanks for proposing this as a good first issue. I am removing the label for now and looping in @DubeySandeep to approve the label. It will be added back if approved. Thanks!"
    },
    {
      "id": 1434114491,
      "user": "bhubneshmaharana",
      "body": "and sir pls assign me admin role so I can fix this error and creat a PR\r\n"
    },
    {
      "id": 1434271101,
      "user": "seanlip",
      "body": "@bhubneshmaharana  Per the guidance at https://github.com/oppia/oppia/wiki/Contributing-code-to-Oppia#choosing-a-good-first-issue, please provide an explanation of what your PR will do (with names of files you're changing, what you plan to change in each file, etc.). If it looks good, we can assign you to this issue.\r\n\r\nPlease also follow the other instructions on that wiki page if you have not yet done so. Thanks!"
    },
    {
      "id": 1445051871,
      "user": "mansi1234567890",
      "body": "hello sir , please assign me this task so , that  I can clear the bug and get a good experience.\r\n"
    },
    {
      "id": 1445145334,
      "user": "seanlip",
      "body": "@mansi1234567890 See my previous comment in this thread, which has instructions on how to claim an issue."
    },
    {
      "id": 1455008394,
      "user": "pawelborkar",
      "body": "Hi @seanlip,\r\nI was checking the issues and saw that lot of people are interested in solving the bugs are asking for assigning the issues to them. \r\n\r\nAnd you replying to them by \r\n\r\n> <-username-> Per the guidance at https://github.com/oppia/oppia/wiki/Contributing-code-to-Oppia#choosing-a-good-first-issue, please provide an explanation of what your PR will do (with names of files you're changing, what you plan to change in each file, etc.). If it looks good, we can assign you to this issue.\r\n>\r\n>Please also follow the other instructions on that wiki page if you have not yet done so. Thanks!\r\n\r\nI think we can automate your reply by implementing a github-action-bot which will specifically target the assign keyword from the first time contributors and post this reply to them tagging their username.\r\n\r\nWhat do you think?\r\n"
    },
    {
      "id": 1455011669,
      "user": "seanlip",
      "body": "Hi @pawelborkar, I'm not sure if we should do that, but thanks for your suggestion. Sometimes people do actually provide the necessary details and ask to be assigned, and in such cases I think it would not be great for them to receive that message.\r\n\r\nThe thing I am confused about is that this guidance is part of our standard onboarding flow and wiki pages, which I feel like many people might be skipping. If you have a suggestion for how to make this more prominent somehow, we'd be all ears!"
    },
    {
      "id": 1457427232,
      "user": "dante381",
      "body": "We can fix the issue by adding  `aria-busy=true` attribute to the highlighted tag in file `core/templates/components/state-editor/state-responses-editor/state-responses.component.html` and `core/templates/components/state-editor/state-solution-editor/state-solution-editor.component.html`\r\n\r\n![image](https://user-images.githubusercontent.com/36447410/223308219-d63371db-bcb8-43fd-b946-6f0d676b1e35.png)\r\n\r\n@seanlip Can i be assigned to this issue?"
    },
    {
      "id": 1457632421,
      "user": "seanlip",
      "body": "Thanks @dante381. One question: conceptually, what is going on here? What is the aria role that's problematic, and why does it need to \"contain particular children\"? What is the significance of putting aria-busy where you're putting it?\r\n\r\n(In order to assess whether an auto-recommended fix makes sense, it's necessary to understand a bit more about why we're doing the fix. If you can explain this and confirm that your fix is the right thing to do conceptually, I'd be happy to assign you the issue.)"
    },
    {
      "id": 1457838374,
      "user": "dante381",
      "body": "Aria role is required as to define the purpose of the element. As developers try to understand the code the aria role allows to understand the role of the tag and its purpose. The aria-busy attribute set to true indicates that region is loaded with new content.\r\n\r\nThis will be helpful for people who use a screen reader.\r\n\r\n@seanlip  I hope this explains the fix."
    },
    {
      "id": 1457942097,
      "user": "seanlip",
      "body": "Yup, I know what aria roles are -- my question is why we are making this specific change for these specific elements. For example, could you please explain which element exactly needs to contain particular children, and why? And then, conceptually, what are you adding the aria-busy to and why is it the right fix?"
    },
    {
      "id": 1458431978,
      "user": "PVenkatArvind",
      "body": "Greetings! @seanlip  can you please assign me this issue \r\n\r\nwill make changes to state-responses.component.html \r\n\r\nadding aria-busy = \"true\"\r\n\r\nbefore\r\n![before17161](https://user-images.githubusercontent.com/79320301/223475887-51b3c4a0-eb04-45e1-9111-785a618b303c.png)\r\n\r\nafter\r\n![after_17161](https://user-images.githubusercontent.com/79320301/223477163-b0667e0b-ada9-4a61-9591-288803b3c34f.png)\r\n\r\n\r\nRan an Axe dev tool scan \r\nTo solve this problem, you need to fix at least (1) of the following:\r\nRequired ARIA child role not present: tab \r\nElement has no aria-busy=\"true\" attribute-->\r\nAdding the aria-busy=\"true\" element  indicates and informs the users that the content is still loading or is in progress /updating \r\nnext why are we making changes to these specific elements or div elements is because role is tab so it is an tab interface just like keyboard focus where use tab to check its also a tab component and hence we require to switch contents and components which provides the user better feature to use oppia interface and navigate the interface better and this aria - busy = \" true\" tells the user that its loading and not ready for interaction for a certain time or immediate interaction\r\n"
    },
    {
      "id": 1458468742,
      "user": "dante381",
      "body": "Sorry, I misunderstood the question. I am adding the aria-busy attribute to the following tags ,\r\n\r\n![image](https://user-images.githubusercontent.com/36447410/223462815-06e1311e-15f1-4e66-a720-c13e16abae66.png)\r\n![image](https://user-images.githubusercontent.com/36447410/223463034-87ad4169-c377-4ea7-82f1-fa3871349eae.png)\r\nthe above code is from `core/templates/components/state-editor/state-responses-editor/state-responses.component.html`.\r\n\r\n![image](https://user-images.githubusercontent.com/36447410/223463274-d4c82010-f75b-4cae-b32d-64e70991cdfa.png)\r\nthe above code is from `core/templates/components/state-editor/state-solution-editor/state-solution-editor.component.html`\r\n\r\nBut after going through the code again, I missed that the parent containers of these elements contain a role attribute `tablist`.\r\nSo I changed the `aria-busy=true` to `role=tab`.  This provides a clearer understanding of the element.\r\n\r\n![image](https://user-images.githubusercontent.com/36447410/223486495-da751bf6-b72c-490b-80d5-81ba08900b00.png)\r\n![image](https://user-images.githubusercontent.com/36447410/223486576-485840d0-20aa-4f89-9706-fa2a0b0f1739.png)\r\nthe above codes belong to `core/templates/components/state-editor/state-responses-editor/state-responses.component.html`.\r\n\r\n![image](https://user-images.githubusercontent.com/36447410/223486715-d2583ef0-db8f-4bda-9949-010eccd3ca96.png)\r\nthe above code belongs to `core/templates/components/state-editor/state-solution-editor/state-solution-editor.component.html`.\r\n"
    },
    {
      "id": 1458610407,
      "user": "seanlip",
      "body": "This seems sensible to me conceptually, thanks @dante381. Assigning you.\r\n\r\n(@PVenkatArvind For the record, your explanation is a bit too generic and I can't understand its relevance to the specific code that is under consideration. So, even though you wrote it first, I can't assign you to this issue.)"
    },
    {
      "id": 1459184165,
      "user": "PVenkatArvind",
      "body": "Greetings! @seanlip , Noted ! with thanks !"
    },
    {
      "id": 1459381955,
      "user": "dante381",
      "body": "@seanlip  Could you please review the changes?\r\n"
    },
    {
      "id": 1459681319,
      "user": "seanlip",
      "body": "Hi @dante381, your PR reviewer is @nithinrdy. I'll defer to him to take a pass. Thanks!"
    },
    {
      "id": 1478335919,
      "user": "Ash-2k3",
      "body": "Closing as fixed in https://github.com/oppia/oppia/pull/17627"
    },
    {
      "id": 1498779577,
      "user": "satendrakumar50",
      "body": "I want join your organization, and I know react,javaScript,Tailwind for css,Normal Css,Html"
    },
    {
      "id": 2197262704,
      "user": "Shahbaz898414",
      "body": "I want join your organization.\r\n"
    }
  ],
  "text_context": "# [BUG]: Certain ARIA roles must contain particular children\n\n### Describe the bug\n\nEnsures elements with an ARIA role that require child roles contain them\r\n\r\n\n\n### Steps To Reproduce\n\nLogin to [www.oppiatestserver.org](http://www.oppiatestserver.org/)\r\nGo to Contributor dashboard\r\nIn Review Questions tab, select any question and click on Review button\r\nRun axe devtools\r\nSee errors\n\n### Expected Behavior\n\nTo solve this problem, you need to\r\nFix at least (1) of the following:\r\nRequired ARIA child role not present: tab\r\nElement has no aria-busy=\"true\" attribute\n\n### Screenshots/Videos\n\n![Screenshot 2023-01-27 11 20 15 AM](https://user-images.githubusercontent.com/101634267/215018639-983f70e2-6f9d-4d3a-bf24-59c8f17a7af8.png)\r\n![Screenshot 2023-01-27 11 19 50 AM](https://user-images.githubusercontent.com/101634267/215018652-2ede9b75-ac38-4bcf-9fa2-f7b8bc21278e.png)\r\n\n\n### What device are you using?\n\nDesktop\n\n### Operating System\n\nOther\n\n### What browsers are you seeing the problem on?\n\nChrome\n\n### Browser version\n\n108.0.5359.111\n\n### Additional context\n\n_No response_\n\n### For new contributors\n\n- See the [Contributor dashboard wiki page](https://github.com/oppia/oppia/wiki/Contributor-dashboard) for how to get started developing for the contributor dashboard.\n- See the [Testing for Accessibility wiki page](https://github.com/oppia/oppia/wiki/Testing-for-Accessibility) for accessibility testing guidelines. To fix this issue, you will likely need to manipulate the HTML or CSS.\n\nHi @sagangwee, thanks for proposing this as a good first issue. I am removing the label for now and looping in @DubeySandeep to approve the label. It will be added back if approved. Thanks!\n\nand sir pls assign me admin role so I can fix this error and creat a PR\r\n\n\n@bhubneshmaharana  Per the guidance at https://github.com/oppia/oppia/wiki/Contributing-code-to-Oppia#choosing-a-good-first-issue, please provide an explanation of what your PR will do (with names of files you're changing, what you plan to change in each file, etc.). If it looks good, we can assign you to this issue.\r\n\r\nPlease also follow the other instructions on that wiki page if you have not yet done so. Thanks!\n\nhello sir , please assign me this task so , that  I can clear the bug and get a good experience.\r\n\n\n@mansi1234567890 See my previous comment in this thread, which has instructions on how to claim an issue.\n\nHi @seanlip,\r\nI was checking the issues and saw that lot of people are interested in solving the bugs are asking for assigning the issues to them. \r\n\r\nAnd you replying to them by \r\n\r\n> <-username-> Per the guidance at https://github.com/oppia/oppia/wiki/Contributing-code-to-Oppia#choosing-a-good-first-issue, please provide an explanation of what your PR will do (with names of files you're changing, what you plan to change in each file, etc.). If it looks good, we can assign you to this issue.\r\n>\r\n>Please also follow the other instructions on that wiki page if you have not yet done so. Thanks!\r\n\r\nI think we can automate your reply by implementing a github-action-bot which will specifically target the assign keyword from the first time contributors and post this reply to them tagging their username.\r\n\r\nWhat do you think?\r\n\n\nHi @pawelborkar, I'm not sure if we should do that, but thanks for your suggestion. Sometimes people do actually provide the necessary details and ask to be assigned, and in such cases I think it would not be great for them to receive that message.\r\n\r\nThe thing I am confused about is that this guidance is part of our standard onboarding flow and wiki pages, which I feel like many people might be skipping. If you have a suggestion for how to make this more prominent somehow, we'd be all ears!\n\nWe can fix the issue by adding  `aria-busy=true` attribute to the highlighted tag in file `core/templates/components/state-editor/state-responses-editor/state-responses.component.html` and `core/templates/components/state-editor/state-solution-editor/state-solution-editor.component.html`\r\n\r\n![image](https://user-images.githubusercontent.com/36447410/223308219-d63371db-bcb8-43fd-b946-6f0d676b1e35.png)\r\n\r\n@seanlip Can i be assigned to this issue?\n\nThanks @dante381. One question: conceptually, what is going on here? What is the aria role that's problematic, and why does it need to \"contain particular children\"? What is the significance of putting aria-busy where you're putting it?\r\n\r\n(In order to assess whether an auto-recommended fix makes sense, it's necessary to understand a bit more about why we're doing the fix. If you can explain this and confirm that your fix is the right thing to do conceptually, I'd be happy to assign you the issue.)\n\nAria role is required as to define the purpose of the element. As developers try to understand the code the aria role allows to understand the role of the tag and its purpose. The aria-busy attribute set to true indicates that region is loaded with new content.\r\n\r\nThis will be helpful for people who use a screen reader.\r\n\r\n@seanlip  I hope this explains the fix.\n\nYup, I know what aria roles are -- my question is why we are making this specific change for these specific elements. For example, could you please explain which element exactly needs to contain particular children, and why? And then, conceptually, what are you adding the aria-busy to and why is it the right fix?\n\nGreetings! @seanlip  can you please assign me this issue \r\n\r\nwill make changes to state-responses.component.html \r\n\r\nadding aria-busy = \"true\"\r\n\r\nbefore\r\n![before17161](https://user-images.githubusercontent.com/79320301/223475887-51b3c4a0-eb04-45e1-9111-785a618b303c.png)\r\n\r\nafter\r\n![after_17161](https://user-images.githubusercontent.com/79320301/223477163-b0667e0b-ada9-4a61-9591-288803b3c34f.png)\r\n\r\n\r\nRan an Axe dev tool scan \r\nTo solve this problem, you need to fix at least (1) of the following:\r\nRequired ARIA child role not present: tab \r\nElement has no aria-busy=\"true\" attribute-->\r\nAdding the aria-busy=\"true\" element  indicates and informs the users that the content is still loading or is in progress /updating \r\nnext why are we making changes to these specific elements or div elements is because role is tab so it is an tab interface just like keyboard focus where use tab to check its also a tab component and hence we require to switch contents and components which provides the user better feature to use oppia interface and navigate the interface better and this aria - busy = \" true\" tells the user that its loading and not ready for interaction for a certain time or immediate interaction\r\n\n\nSorry, I misunderstood the question. I am adding the aria-busy attribute to the following tags ,\r\n\r\n![image](https://user-images.githubusercontent.com/36447410/223462815-06e1311e-15f1-4e66-a720-c13e16abae66.png)\r\n![image](https://user-images.githubusercontent.com/36447410/223463034-87ad4169-c377-4ea7-82f1-fa3871349eae.png)\r\nthe above code is from `core/templates/components/state-editor/state-responses-editor/state-responses.component.html`.\r\n\r\n![image](https://user-images.githubusercontent.com/36447410/223463274-d4c82010-f75b-4cae-b32d-64e70991cdfa.png)\r\nthe above code is from `core/templates/components/state-editor/state-solution-editor/state-solution-editor.component.html`\r\n\r\nBut after going through the code again, I missed that the parent containers of these elements contain a role attribute `tablist`.\r\nSo I changed the `aria-busy=true` to `role=tab`.  This provides a clearer understanding of the element.\r\n\r\n![image](https://user-images.githubusercontent.com/36447410/223486495-da751bf6-b72c-490b-80d5-81ba08900b00.png)\r\n![image](https://user-images.githubusercontent.com/36447410/223486576-485840d0-20aa-4f89-9706-fa2a0b0f1739.png)\r\nthe above codes belong to `core/templates/components/state-editor/state-responses-editor/state-responses.component.html`.\r\n\r\n![image](https://user-images.githubusercontent.com/36447410/223486715-d2583ef0-db8f-4bda-9949-010eccd3ca96.png)\r\nthe above code belongs to `core/templates/components/state-editor/state-solution-editor/state-solution-editor.component.html`.\r\n\n\nThis seems sensible to me conceptually, thanks @dante381. Assigning you.\r\n\r\n(@PVenkatArvind For the record, your explanation is a bit too generic and I can't understand its relevance to the specific code that is under consideration. So, even though you wrote it first, I can't assign you to this issue.)\n\nGreetings! @seanlip , Noted ! with thanks !\n\n@seanlip  Could you please review the changes?\r\n\n\nHi @dante381, your PR reviewer is @nithinrdy. I'll defer to him to take a pass. Thanks!\n\nClosing as fixed in https://github.com/oppia/oppia/pull/17627\n\nI want join your organization, and I know react,javaScript,Tailwind for css,Normal Css,Html\n\nI want join your organization.\r\n",
  "pr_link": "https://github.com/oppia/oppia/pull/17627",
  "code_context": [
    {
      "filename": "core/templates/components/state-editor/state-responses-editor/state-responses.component.html",
      "content": "<div>\n  <div class=\"oppia-editor-card-with-avatar oppia-mobile-collapsible-card\">\n    <div class=\"oppia-editor-card-body\">\n      <div class=\"state-responses-header-container oppia-mobile-collapsible-card-header\">\n        <div class=\"state-responses-header\" (click)=\"toggleResponseCard()\">\n          <h3 class=\"oppia-exp-answer-card-header\">Learner's Answers and Oppia's Responses</h3>\n          <i class=\"fa fa-caret-down\"\n             *ngIf=\"!responseCardIsShown\"\n             aria-hidden=\"true\">\n          </i>\n          <i class=\"fa fa-caret-up\"\n             *ngIf=\"responseCardIsShown\"\n             aria-hidden=\"true\">\n          </i>\n        </div>\n      </div>\n      <div class=\"state-response-container oppia-mobile-collapsible-card-content\" *ngIf=\"responseCardIsShown\">\n        <div *ngIf=\"answerGroups && answerGroups.length > 0\">\n          <div cdkDropList\n               (cdkDropListDropped)=\"drop($event)\"\n               class=\"oppia-option-list nav-stacked nav-pills\"\n               role=\"tablist\">\n            <div [cdkDragDisabled]=\"activeAnswerGroupIndex === index ? true : false\"\n                 cdkDrag\n                 *ngFor=\"let answerGroup of answerGroups; let index = index\"\n                 role=\"tab\"\n                 [ngClass]=\"{'active': activeAnswerGroupIndex === index}\"\n                 class=\"oppia-sortable-rule-block oppia-prevent-selection\">\n\n              <span class=\"oppia-rule-sort-handle\" *ngIf=\"answerGroups?.length > 1\" (mousedown)=\"changeActiveAnswerGroupIndex(-1)\">\n                <span *ngIf=\"editabilityService.isEditable()\" class=\"fas fa-grip-vertical draggable-icon-indicator\"></span>\n              </span>\n\n              <div class=\"oppia-rule-header-warning-placement\" *ngIf=\"isSelfLoopThatIsMarkedCorrect(answerGroup.outcome) || isSelfLoopWithNoFeedback(answerGroup.outcome)\" (click)=\"changeActiveAnswerGroupIndex(index)\"\n                   ngbTooltip=\"{{getOutcomeTooltip(answerGroup.outcome)}}\"\n                   placement=\"bottom\">\n                <div class=\"oppia-rule-header-warning-style\" >\n                  ⚠\n                </div>\n              </div>\n              <a (click)=\"changeActiveAnswerGroupIndex(index)\" class=\"oppia-rule-tab e2e-test-response-tab\" [ngClass]=\"{'oppia-rule-tab-active': activeAnswerGroupIndex === index}\">\n                <oppia-response-header [index]=\"index\"\n                                       [summary]=\"summarizeAnswerGroup(answerGroup, getCurrentInteractionId(), getAnswerChoices(), false)\"\n                                       [shortSummary]=\"summarizeAnswerGroup(answerGroup, getCurrentInteractionId(), getAnswerChoices(), true)\"\n                                       [isActive]=\"index === activeAnswerGroupIndex\"\n                                       [outcome]=\"answerGroup.outcome\"\n                                       [defaultOutcome]=\"false\"\n                                       [numRules]=\"answerGroup.rules.length\"\n                                       [isResponse]=\"true\"\n                                       (navigateToState)=\"navigateToState.emit($event)\">\n                </oppia-response-header>\n              </a>\n\n              <div *ngIf=\"activeAnswerGroupIndex === index\">\n                <div class=\"oppia-editor-card-section\">\n                  <div class=\"oppia-rule-body-container e2e-test-response-body-{{index}}\">\n                    <oppia-answer-group-editor class=\"e2e-test-response-body\"\n                                               [rules]=\"answerGroup.rules\"\n                                               [outcome]=\"answerGroup.outcome\"\n                                               [taggedSkillMisconceptionId]=\"answerGroup.taggedSkillMisconceptionId\"\n                                               (onSaveAnswerGroupFeedback)=\"saveActiveAnswerGroupFeedback($event)\"\n                                               (onSaveAnswerGroupDest)=\"saveActiveAnswerGroupDest($event)\"\n                                               (onSaveAnswerGroupDestIfStuck)=\"saveActiveAnswerGroupDestIfStuck($event)\"\n                                               (onSaveAnswerGroupCorrectnessLabel)=\"saveActiveAnswerGroupCorrectnessLabel($event)\"\n                                               (onSaveAnswerGroupRules)=\"saveActiveAnswerGroupRules($event)\"\n                                               (onSaveNextContentIdIndex)=\"sendOnSaveNextContentIdIndex($event)\"\n                                               (onSaveTaggedMisconception)=\"saveTaggedMisconception($event)\"\n                                               [isEditable]=\"editabilityService.isEditable()\"\n                                               [displayFeedback]=\"!isLinearWithNoFeedback(answerGroup.outcome)\"\n                                               [addState]=\"addState\">\n                    </oppia-answer-group-editor>\n                  </div>\n                  <div class=\"btn btn-danger oppia-delete-response e2e-test-delete-response\"\n                       *ngIf=\"editabilityService.isEditable()\"\n                       (click)=\"deleteAnswerGroup($event, index)\">\n                    Delete Response\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <!-- CkDrop End -->\n        </div>\n        <div *ngIf=\"!suppressDefaultAnswerGroup()\">\n          <div class=\"oppia-option-list nav-stacked nav-pills\" role=\"tablist\">\n            <div class=\"option-list-default\"\n                 [ngClass]=\"{'active': activeAnswerGroupIndex === answerGroups.length}\"\n                 role=\"tab\">\n              <div class=\"oppia-rule-header-warning-placement\"\n                   *ngIf=\"isSelfLoopThatIsMarkedCorrect(defaultOutcome) || (isSelfLoopWithNoFeedback(defaultOutcome))\"\n                   (click)=\"changeActiveAnswerGroupIndex(answerGroups.length)\"\n                   ngbTooltip=\"{{getOutcomeTooltip(defaultOutcome)}}\"\n                   placement=\"bottom\">\n                <div class=\"oppia-rule-header-warning-style\" >\n                  ⚠\n                </div>\n              </div>\n              <a (click)=\"changeActiveAnswerGroupIndex(answerGroups.length)\"\n                 class=\"oppia-sortable-rule-block oppia-rule-tab oppia-default-rule-tab e2e-test-default-response-tab\"\n                 [ngClass]=\"{'oppia-rule-tab-active': activeAnswerGroupIndex == answerGroups.length}\">\n                <oppia-response-header [index]=\"index\"\n                                       [isActive]=\"index === activeAnswerGroupIndex\"\n                                       [summary]=\"summarizeDefaultOutcome(defaultOutcome, getCurrentInteractionId(), answerGroups.length, false)\"\n                                       [shortSummary]=\"summarizeDefaultOutcome(defaultOutcome, getCurrentInteractionId(), answerGroups.length, true)\"\n                                       [outcome]=\"defaultOutcome\"\n                                       [defaultOutcome]=\"true\"\n                                       (navigateToState)=\"navigateToState.emit($event)\"\n                                       [isResponse]=\"true\">\n                </oppia-response-header>\n              </a>\n\n              <div *ngIf=\"activeAnswerGroupIndex === (answerGroups && answerGroups.length)\">\n                <div class=\"oppia-editor-card-section\">\n                  <div class=\"oppia-rule-body-container e2e-test-response-body-default\">\n                    <oppia-answer-group-editor class=\"e2e-test-response-body\"\n                                               [rules]=\"null\"\n                                               [outcome]=\"defaultOutcome\"\n                                               [taggedSkillMisconceptionId]=\"null\"\n                                               [isEditable]=\"editabilityService.isEditable()\"\n                                               [suppressWarnings]=\"suppressDefaultAnswerGroup()\"\n                                               [displayFeedback]=\"!isLinearWithNoFeedback(defaultOutcome)\"\n                                               [addState]=\"addState\"\n                                               (onSaveAnswerGroupFeedback)=\"saveDefaultOutcomeFeedback($event)\"\n                                               (onSaveAnswerGroupDest)=\"saveDefaultOutcomeDest($event)\"\n                                               (onSaveAnswerGroupDestIfStuck)=\"saveDefaultOutcomeDestIfStuck($event)\"\n                                               (onSaveAnswerGroupCorrectnessLabel)=\"saveDefaultOutcomeCorrectnessLabel($event)\"\n                                               (onSaveNextContentIdIndex)=\"sendOnSaveNextContentIdIndex($event)\">\n                    </oppia-answer-group-editor>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"oppia-add-response-button-container\">\n          <div *ngIf=\"editabilityService.isEditableOutsideTutorialMode() && !isCurrentInteractionLinear() && editabilityService.isEditable()\">\n            <button type=\"button\" class=\"btn btn-secondary oppia-add-response-button e2e-test-open-add-response-modal\" (click)=\"openAddAnswerGroupModal()\">\n              + ADD RESPONSE\n            </button>\n          </div>\n        </div>\n        <div *ngIf=\"!isInQuestionMode()\" class=\"solicit-answer-checkbox\">\n          <span *ngIf=\"!isCurrentInteractionTrivial()\" [hidden]=\"!enableSolicitAnswerDetailsFeature\" class=\"solicit-answer-details-span\">\n            <input id=\"label-target-solicit-answer-details-checkbox\" type=\"checkbox\" class=\"e2e-test-solicit-answer-details-checkbox\" (change)=\"onChangeSolicitAnswerDetails()\" [(ngModel)]=\"stateSolicitAnswerDetailsService.displayed\" [disabled]=\"!editabilityService.isEditable()\">\n            <label for=\"label-target-solicit-answer-details-checkbox\">Solicit Answer Details</label>\n          </span>\n        </div>\n        <div *ngIf=\"isInQuestionMode() && answerGroups && answerGroups.length > 0 && (containsOptionalMisconceptions || getUnaddressedMisconceptionNames(misconceptionsBySkill).length)\" class=\"misconception-parent-card\">\n          <h3>Misconceptions</h3>\n          <small class=\"text-muted\">The following must be addressed by tagging to an incorrect answer. If a misconception is not relevant to this question, mark it as \"Not Applicable\".</small>\n          <div class=\"pt-4\" *ngIf=\"getUnaddressedMisconceptionNames(misconceptionsBySkill).length\">\n            <h4 class=\"pl-3\">Compulsory</h4>\n            <p *ngFor=\"let misconceptionName of getUnaddressedMisconceptionNames(misconceptionsBySkill); let index = index\" class=\"misconception-list-item\">\n              {{misconceptionName}}\n            </p>\n          </div>\n          <div class=\"pt-4\">\n            <h4 class=\"pl-3\" *ngIf=\"containsOptionalMisconceptions\">Optional</h4>\n            <div *ngFor=\"let skillWithMisconceptions of misconceptionsBySkill | keyvalue; let index = index\">\n              <div *ngFor=\"let misconception of skillWithMisconceptions.value\">\n                <div *ngIf=\"!misconception.isMandatory()\"\n                     class=\"misconception-list-item optional-misconception-list-item\"\n                     [ngClass]=\"{'optional-misconception-list-no-action': isNoActionExpected(skillWithMisconceptions.key + '-' + misconception.getId())}\">\n                  <div>\n                    <div>\n                      {{misconception.getName()}}\n                      <span class=\"pl-3\" *ngIf=\"!isNoActionExpected(skillWithMisconceptions.key + '-' + misconception.getId())\">⚠️</span>\n                    </div>\n                    <div class=\"small text-muted\" ng-bind=\"getOptionalSkillMisconceptionStatus(skillId + '-' + misconception.getId())\"></div>\n                  </div>\n                  <div *ngIf=\"skillWithMisconceptions.key + '-' + misconception.getId() === activeEditOption\" class=\"optional-misconception-edit-options\">\n                    <div *ngIf=\"inapplicableSkillMisconceptionIds.includes(skillWithMisconceptions.key + '-' + misconception.getId())\"\n                         (click)=\"updateOptionalMisconceptionIdStatus(skillWithMisconceptions.key + '-' + misconception.getId(), true)\"\n                         (mouseleave)=\"setActiveEditOption(null)\">\n                        Mark as \"Applicable\"\n                    </div>\n                    <div *ngIf=\"!inapplicableSkillMisconceptionIds.includes(skillWithMisconceptions.key + '-' + misconception.getId())\"\n                         (click)=\"updateOptionalMisconceptionIdStatus(skillWithMisconceptions.key + '-' + misconception.getId(), false)\"\n                         (mouseleave)=\"setActiveEditOption(null)\">\n                        Mark as \"Not Applicable\"\n                    </div>\n                  </div>\n                  <div *ngIf=\"editabilityService.isEditable()\"\n                       (click)=\"setActiveEditOption(skillWithMisconceptions.key + '-' + misconception.getId())\"\n                       class=\"fas fa-ellipsis-v optional-misconception-options-button\"\n                       [ngClass]=\"{'d-none': getOptionalSkillMisconceptionStatus(skillWithMisconceptions.key + '-' + misconception.getId()) === 'Assigned'}\">\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<style>\n  .oppia-delete-response {\n    margin: 20px 10px 0;\n  }\n\n  .option-list-default {\n    border: solid 1px #ccc;\n    border-radius: 4px;\n    display: flex;\n    flex-direction: column;\n    margin: 0;\n    padding: 0;\n  }\n\n  .cdk-drag-placeholder {\n    opacity: 0;\n  }\n\n  .cdk-drag-animating {\n    transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);\n  }\n\n  .oppia-sortable-rule-block {\n    border: solid 1px #ccc;\n    border-radius: 4px;\n    box-sizing: border-box;\n    color: rgba(0, 0, 0, 0.87);\n    cursor: pointer;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    position: relative;\n    width: 100%;\n  }\n\n  .oppia-rule-sort-handle {\n    padding-right: 2px;\n    position: absolute;\n    top: 9px;\n  }\n\n  .oppia-option-list {\n    display: block;\n    max-width: 100%;\n    min-height: 60px;\n    overflow: hidden;\n    width: 500px;\n  }\n\n  .oppia-option-list.cdk-drop-list-dragging .oppia-sortable-rule-block:not(.cdk-drag-placeholder) {\n    transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);\n  }\n\n  state-responses .state-responses-header-container {\n    padding: 15px 20px 15px 30px\n  }\n\n  .state-responses-header {\n    align-content: center;\n    align-items: center;\n    display: flex;\n    justify-content: space-between;\n    padding: 15px 20px 15px;\n  }\n\n  .oppia-exp-answer-card-header {\n    font-size: 18px;\n  }\n\n  .solicit-answer-checkbox label {\n    margin-bottom: 0;\n  }\n\n  .nav-pills > div {\n    box-shadow: 1px 2px 5px #939393;\n    margin: 8px 0;\n  }\n\n  .nav-pills > div > a.oppia-rule-tab {\n    background: #e0f2f1 !important;\n  }\n\n  .state-response-container {\n    padding: 15px 30px;\n  }\n\n  .oppia-add-response-button-container {\n    margin: 22px 0;\n  }\n\n  .solicit-answer-checkbox {\n    padding-bottom: 20px;\n  }\n\n  .misconception-parent-card {\n    border-top: 1px solid #707070;\n    padding: 20px;\n  }\n\n  .misconception-parent-card h3 {\n    font-size: 1.75rem;\n  }\n\n  .misconception-list-item {\n    background-color: #fff5c8;\n    border: 2px solid #827127;\n    border-radius: 4px;\n    margin: 10px;\n    padding: 15px;\n  }\n\n  .optional-misconception-list-item {\n    display: grid;\n    grid-template-columns: 1fr auto;\n    position: relative;\n    word-break: break-word;\n  }\n\n  .optional-misconception-options-button {\n    cursor: pointer;\n    display: grid;\n    place-content: center;\n  }\n\n  .optional-misconception-edit-options {\n    background-color: #fff;\n    border: 2px solid #000;\n    border-radius: 4px;\n    cursor: pointer;\n    padding: 0.3rem;\n    position: absolute;\n    right: -15%;\n    text-align: center;\n    top: calc(100% - 0.75em);\n    width: 15em;\n    z-index: 1;\n  }\n\n  .optional-misconception-list-no-action {\n    background-color: #fff;\n    border: 2px solid #999;\n  }\n\n  @media screen and (max-width: 768px) {\n    state-responses .state-response-container {\n      padding: 15px 10px;\n    }\n\n    .oppia-editor-card-section {\n      padding: 10px;\n    }\n\n    state-responses .solicit-answer-checkbox {\n      width: 100%;\n    }\n\n    .state-responses-header-container {\n      padding: 0;\n    }\n\n    .state-responses-header i {\n      display: block;\n    }\n\n    .state-responses-header {\n      padding: 16px;\n    }\n\n    .oppia-editor-card-with-avatar {\n      margin-top: 20px;\n    }\n  }\n</style>\n"
    },
    {
      "filename": "core/templates/components/state-editor/state-solution-editor/state-solution-editor.component.html",
      "content": "<div>\n  <div>\n    <mat-card class=\"oppia-editor-card-with-avatar oppia-mobile-collapsible-card\">\n      <div class=\"oppia-editor-card-body\">\n        <div class=\"state-solution-header-container\" (click)=\"toggleSolutionCard()\">\n          <div class=\"state-solution-header oppia-mobile-collapsible-card-header\">\n            <h3 class=\"oppia-exp-solution-card-header\">Solution</h3>\n            <i class=\"fa fa-caret-down\"\n               *ngIf=\"!solutionCardIsShown\"\n               [attr.aria-hidden]=\"true\">\n            </i>\n            <i class=\"fa fa-caret-up\"\n               *ngIf=\"solutionCardIsShown\"\n               [attr.aria-hidden]=\"true\">\n            </i>\n          </div>\n        </div>\n        <div class=\"state-solution-content-container oppia-mobile-collapsible-card-content\" *ngIf=\"solutionCardIsShown\">\n          <div class=\"oppia-add-solution-button-container\">\n            <div *ngIf=\"isEditable()\">\n              <button *ngIf=\"!savedMemento()\"\n                      type=\"button\"\n                      class=\"btn btn-secondary oppia-add-hint-button e2e-test-oppia-add-solution-button\"\n                      (click)=\"openAddOrUpdateSolutionModal()\">\n                + ADD SOLUTION\n              </button>\n            </div>\n          </div>\n          <ul class=\"nav oppia-option-list nav-stacked nav-pills\"\n              role=\"tablist\"\n              *ngIf=\"savedMemento()\">\n            <li class=\"oppia-rule-block oppia-sortable-hint oppia-prevent-selection\"\n                role=\"tab\">\n              <div class=\"oppia-rule-header-warning-placement\"\n                   *ngIf=\"!isSolutionValid()\"\n                   (click)=\"toggleInlineSolutionEditorIsActive()\"\n                   [ngbTooltip]=\"getInvalidSolutionTooltip()\"\n                   placement=\"bottom\">\n                <div class=\"oppia-rule-header-warning-style\">\n                  ⚠\n                </div>\n              </div>\n              <a (click)=\"toggleInlineSolutionEditorIsActive()\"\n                 class=\"oppia-rule-tab e2e-test-oppia-solution-tab\">\n                <oppia-response-header [summary]=\"getSolutionSummary()\"\n                                       [defaultOutcome]=\"false\"\n                                       [shortSummary]=\"getSolutionSummary()\"\n                                       (delete)=\"deleteSolution($event)\">\n                </oppia-response-header>\n              </a>\n\n              <div *ngIf=\"inlineSolutionEditorIsActive\">\n                <div class=\"oppia-editor-card-section e2e-test-oppia-solution-body\">\n                  <oppia-solution-editor (openSolutionEditorModal)=\"openAddOrUpdateSolutionModal()\"\n                                         (saveSolution)=\"onSaveSolution($event)\">\n                  </oppia-solution-editor>\n                </div>\n              </div>\n            </li>\n          </ul>\n          <div *ngIf=\"!savedMemento()\" class=\"oppia-empty-solution-warning\">\n            <i class=\"material-icons oppia-empty-solution-warning-icon\">&#xe002;</i>\n            <span [innerHTML]=\"'I18N_EMPTY_SOLUTION_MESSAGE' | translate\"></span>\n          </div>\n        </div>\n      </div>\n    </mat-card>\n  </div>\n</div>\n<style>\n  .oppia-empty-solution-warning-icon {\n    color: #827127;\n  }\n  .oppia-empty-solution-warning {\n    background: #fff5c8;\n    border: 0.0625rem solid #827127;\n    border-radius: 0.25rem;\n    color: #333;\n    margin-top: 1rem;\n    padding-left: 0.25rem;\n  }\n  .state-solution-header-container {\n    padding: 0 20px 0 30px;\n  }\n  .state-solution-header {\n    align-content: center;\n    align-items: center;\n    display: flex;\n    justify-content: space-between;\n    padding: 15px 0 15px;\n  }\n  .oppia-exp-solution-card-header {\n    font-size: 18px;\n  }\n  .state-solution-content-container {\n    padding: 15px 30px;\n  }\n  .oppia-add-hint-button-container {\n    margin: 10px 0;\n  }\n  @media screen and (max-width: 768px) {\n    .oppia-editor-card-with-avatar {\n      margin-top: 20px;\n    }\n    .state-solution-content-container {\n      margin-top: 10px;\n      padding: 15px 5px;\n    }\n    .state-solution-header-container {\n      padding: 0;\n    }\n    .state-solution-header {\n      padding: 0;\n    }\n    .state-solution-header i {\n      display: block;\n    }\n  }\n  @media screen and (max-width: 500px) {\n    .oppia-editor-card-section {\n      padding-left: 10px;\n      padding-right: 10px;\n    }\n  }\n</style>\n"
    }
  ]
}